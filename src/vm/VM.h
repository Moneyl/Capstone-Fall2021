#pragma once
#include "Typedefs.h"
#include "Compiler.h"
#include "utility/Span.h"
#include "utility/Result.h"
#include "Instruction.h"

struct VMError;

//Virtual machine that runs binaries generated by Compiler.
class VM
{
public:
    //Run a program binary
    Result<void, VMError> Run(Span<Instruction> program);

private:

};

enum VMErrorCode
{
    InvalidInstruction
};

//Returned when the VM encounters an error
struct VMError
{
    VMErrorCode Code;
    std::string Message;
};